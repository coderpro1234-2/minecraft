<!DOCTYPE html>
<html>
  <head>
    <title>Minecraft</title>
  </head>
  <body>
    <img src="tree.png" id="tree1" hidden>
    <img src="jungle-tree.png" id="tree2" hidden>
    <img src="chest.png" id="chest1" hidden>
    <center>
      <h1>Use WASD Or Arrow Keys</h1>
      <canvas id="game" width="210" height="210"></canvas><br>
      <button onclick="canvasdown('game', 'png')">Download Scene</button>
    </center>
  </body>
  <script type="text/javascript">
    let canvas = document.getElementById('game');
    let ctx = canvas.getContext('2d');
    let scx = 0
    let scy = 0
    window.onload = function(){
      draw_player()
    }
    function draw_player() {
      canvas.width = canvas.width
      canvas.height = canvas.height
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#42cc2d'
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#03a5fc'
      ctx.fillRect(140+scx, -10+scy, 80, 80);
      ctx.fillStyle = '#ffc8a1'
      ctx.fillRect(100, 100, 10, 10);
      draw_Image(document.getElementById("tree1"), 0, 0)
      draw_Image(document.getElementById("tree2"), 150, -230)
      draw_Image(document.getElementById("chest1"), 100, 150)
      ctx.stroke()
    }
    function move_player(e) {
      if (e == "w"|| e == "ArrowUp") {
        scy += 10
      }
      if (e == "s"|| e == "ArrowDown") {
        scy += -10
      }
      if (e == "a"|| e == "ArrowLeft") {
        scx += 10
      }
      if (e == "d"|| e == "ArrowRight") {
        scx += -10
      }
      draw_player()
    }function draw_Image(image, x, y) {
      var img = image
      ctx.drawImage(img, x+scx, y+scy)
    }
    function candown (target, type) {
      let canvas = document.getElementById(target);
      let anchor = document.createElement("a");
      anchor.download = "download." + type;
      anchor.href = canvas.toDataURL("image/" + type);
      anchor.click();
      anchor.remove();
    }
    window.addEventListener("keydown", function(e) {
      move_player(e.key)
    })
  </script>
</html>